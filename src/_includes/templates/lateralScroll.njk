<!-- lateralScroll.njk -->


<div class=" "> 

<section class="inview " id="lateralScroll" data-scroll-section>
  <div class="container-2 text-center pbr-120
  ">
    <div class="row">
      <div class="col-xs-12">
        <div class="fluid-4-b mb-24">    {{ insert.splitenpalabras3(global_index.unires_1_content | safe ) }}</div>
        <div class="fluid-9-r c-accent">    {{ insert.splitenpalabras3(global_index.unires_2_content | safe ) }}</div>
      </div>
    </div>
  </div>
  
  
    <div class="interior-content  ">
  
      <div class="interior-sticky color-dark ">
        <div class=" scrolllateral  c-accent mb-24">
          <div class="boxshow1">
            <div class="boxshow-inner">
              <div>
                <div class="truquibox10 truquibox"> Diferentes tipos de perfil para los familiares, incluído un perfil de tutor para mayor control.</div>
                <div class="truquibox20 truquibox"> Personaliza y organiza los horarios de los familiares y los eventos de la residencia.</div>
              </div>
              <div class="boxshow-inner-img"> <img width="100%" src="/assets/static/images/scroll-phone-1.png" alt="img"></div>
              <div class="truquibox30 truquibox"> Mantén un control eficiente de los eventos y horarios familiares.</div>
            </div>
          </div>
          <div class="boxshow2">
            <div class="boxshow-inner">
              <div>
                <div class="truquibox40 truquibox"> Facilita la gestión de horarios y eventos familiares.</div>
                <div class="truquibox50 truquibox"> Optimiza la organización de actividades en la residencia.</div>
              </div>
              <div class="boxshow-inner-img"> <img width="100%" src="/assets/static/images/scroll-phone-2.png" alt="img"></div>
              <div class="truquibox60 truquibox"> Mejora la coordinación de eventos y horarios.</div>
            </div>
          </div>
          <div class="boxshow3">
            <div class="boxshow-inner">
              <div>
                <div class="truquibox70 truquibox"> Asegura una gestión eficaz de los horarios familiares.</div>
                <div class="truquibox80 truquibox"> Administra los eventos de manera sencilla y eficiente.</div>
              </div>
              <div class="boxshow-inner-img"> <img width="100%" src="/assets/static/images/scroll-phone-3.png" alt="img"></div>
              <div class="truquibox90 truquibox"> Simplifica la gestión de actividades y horarios.</div>
            </div>
          </div>

          <div class="boxshow3">
            <div class="boxshow-inner">
              <div>
                <div class="truquibox100 truquibox"> Coordina los horarios y eventos de manera efectiva.</div>
                <div class="truquibox110 truquibox"> Facilita la planificación de actividades familiares.</div>
              </div>
              <div class="boxshow-inner-img"> <img width="100%" src="/assets/static/images/scroll-phone-4.png" alt="img"></div>
              <div class="truquibox120 truquibox"> Mejora la organización de eventos y horarios.</div>
            </div>
          </div>

          <div class="boxshow3">
            <div class="boxshow-inner">
              <div>
                <div class="truquibox130 truquibox"> Gestiona los horarios de manera eficiente y organizada.</div>
                <div class="truquibox140 truquibox"> Administra los eventos familiares con facilidad.</div>
              </div>
              <div class="boxshow-inner-img"> <img width="100%" src="/assets/static/images/scroll-phone-5.png" alt="img"></div>
              <div class="truquibox150 truquibox"> Optimiza la gestión de horarios y eventos.</div>
            </div>
          </div>
    </div>
  </section>
</div>

<script>
  let lastScrollTop = 0;

  function handleScroll() {
    if (window.innerWidth <= 768) return;

    const horizontalDiv = document.querySelector('.scrolllateral');
    if (!horizontalDiv) return;
    const rect = horizontalDiv.getBoundingClientRect();
    if (rect.top >= window.innerHeight || rect.bottom < 0) return;
    const section = document.getElementById('lateralScroll');
    if (!section) return;
    const sectionTop = section.getBoundingClientRect().top + window.scrollY;
    const scrollPosition = window.scrollY - sectionTop;
    const scrollPercentage = scrollPosition / section.offsetHeight;
    const truquiboxes = [
      { element: document.querySelector('.truquibox10'), threshold: 0.10 },
      { element: document.querySelector('.truquibox20'), threshold: 0.15 },
      { element: document.querySelector('.truquibox30'), threshold: 0.20 },
      { element: document.querySelector('.truquibox40'), threshold: 0.25 },
      { element: document.querySelector('.truquibox50'), threshold: 0.30 },
      { element: document.querySelector('.truquibox60'), threshold: 0.35 },
      { element: document.querySelector('.truquibox70'), threshold: 0.40 },
      { element: document.querySelector('.truquibox80'), threshold: 0.45 },
      { element: document.querySelector('.truquibox90'), threshold: 0.50 },
      { element: document.querySelector('.truquibox100'), threshold: 0.55 },
      { element: document.querySelector('.truquibox110'), threshold: 0.60 },
      { element: document.querySelector('.truquibox120'), threshold: 0.65 },
      { element: document.querySelector('.truquibox130'), threshold: 0.70 },
      { element: document.querySelector('.truquibox140'), threshold: 0.75 },
      { element: document.querySelector('.truquibox150'), threshold: 0.80 } // Ajustado para mostrar más el último
    ];
    const currentScrollTop = window.scrollY;
    const isScrollingDown = currentScrollTop > lastScrollTop;
    lastScrollTop = currentScrollTop;
    truquiboxes.forEach(({ element, threshold }) => {
      if (element) {
        if (isScrollingDown && scrollPercentage >= threshold) {
          element.style.opacity = 1;
        } else if (!isScrollingDown && scrollPercentage < threshold) {
          element.style.opacity = 0;
        }
      }
    });
    const translateValue = scrollPercentage >= 0.80 ? '-400vw' : // Ajustado para mostrar más el último
      scrollPercentage >= 0.60 ? '-300vw' :
      scrollPercentage >= 0.40 ? '-200vw' :
      scrollPercentage >= 0.20 ? '-100vw' : '0';
    horizontalDiv.style.transition = 'transform 0.5s ease-in-out';
    horizontalDiv.style.transform = `translateX(${translateValue})`;
  }

  document.addEventListener('scroll', handleScroll);
  window.addEventListener('resize', handleScroll);
</script>